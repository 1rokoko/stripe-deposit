# üéØ –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢: Stripe Deposit API –Ω–∞ Vercel

## ‚úÖ –°–¢–ê–¢–£–°: –ß–ê–°–¢–ò–ß–ù–û –†–ê–ó–í–ï–†–ù–£–¢–û –ò –†–ê–ë–û–¢–ê–ï–¢

### üåê –†–∞–±–æ—á–∏–µ URL:
- **–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω**: https://stripe-deposit-5cfi6qgj0-phuket1.vercel.app
- **Health Check**: https://stripe-deposit-5cfi6qgj0-phuket1.vercel.app/healthz ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- **Metrics**: https://stripe-deposit-5cfi6qgj0-phuket1.vercel.app/metrics ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ (—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π)

### üîß –ß—Ç–æ –†–ê–ë–û–¢–ê–ï–¢ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:

#### 1. Health Check API ‚úÖ
```bash
GET https://stripe-deposit-5cfi6qgj0-phuket1.vercel.app/healthz
# –û—Ç–≤–µ—Ç: {"status":"ok","timestamp":"2025-09-23T12:20:53.391Z","service":"stripe-deposit","version":"1.0.0"}
```

#### 2. Metrics API ‚úÖ (—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π)
```bash
GET https://stripe-deposit-5cfi6qgj0-phuket1.vercel.app/metrics
Authorization: Bearer +wHLpI2G1rV+VFmAk7mdomTDVf+glkljgtJiksmRft8=
# –û—Ç–≤–µ—Ç: –ü–æ–ª–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
```

#### 3. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è ‚úÖ
- –ë–µ–∑ —Ç–æ–∫–µ–Ω–∞: 401 Unauthorized
- –° —Ç–æ–∫–µ–Ω–æ–º: –î–æ—Å—Ç—É–ø –∫ –∑–∞—â–∏—â–µ–Ω–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º

#### 4. Rate Limiting ‚úÖ
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ IP
- 429 Too Many Requests –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏

### ‚ö†Ô∏è –ß—Ç–æ –ù–ï –†–ê–ë–û–¢–ê–ï–¢ (–∏ –ø–æ—á–µ–º—É):

#### 1. –û—Å–Ω–æ–≤–Ω—ã–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã ‚ùå
```bash
GET /api/deposits
# –û—à–∏–±–∫–∞: {"error":"StripeClient requires an apiKey"}
```

**–ü—Ä–∏—á–∏–Ω–∞**: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è Stripe –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ Vercel

#### 2. Stripe Integration ‚ùå
- `STRIPE_SECRET_KEY` –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ runtime
- `STRIPE_WEBHOOK_SECRET` –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ runtime

### üõ†Ô∏è –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ Vercel Dashboard
1. –ü–µ—Ä–µ–π—Ç–∏: https://vercel.com/phuket1/stripe-deposit/settings/environment-variables
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è Production
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –î–µ–º–æ-–≤–µ—Ä—Å–∏—è (–ì–û–¢–û–í–ê)
–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–µ–º–æ-–≤–µ—Ä—Å–∏—è –±–µ–∑ Stripe:
- **Demo API**: `/api/demo/*` - —Å–∏–º—É–ª—è—Ü–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **Web Interface**: HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏
- **–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏**: –°–æ–∑–¥–∞–Ω–∏–µ, –∑–∞—Ö–≤–∞—Ç, –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–æ–≤

### üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø:

#### –†–∞—É–Ω–¥ 1: Health Check ‚úÖ
- –°—Ç–∞—Ç—É—Å: 200 OK
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: ~300ms
- –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å: 100%

#### –†–∞—É–Ω–¥ 2: Authentication ‚úÖ
- –ë–µ–∑ —Ç–æ–∫–µ–Ω–∞: 401 (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
- –° —Ç–æ–∫–µ–Ω–æ–º: –î–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à–µ–Ω
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –†–∞–±–æ—Ç–∞–µ—Ç

#### –†–∞—É–Ω–¥ 3: Metrics ‚úÖ
- –°—Ç–∞—Ç—É—Å: 200 OK
- –î–∞–Ω–Ω—ã–µ: –ü–æ–ª–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –°—Ç–∞–±–∏–ª—å–Ω–∞—è

### üéØ –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–°:

#### ‚úÖ –†–ê–ë–û–¢–ê–ï–¢:
- Vercel –¥–µ–ø–ª–æ–π
- Serverless –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- Health monitoring
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- Rate limiting
- –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

#### ‚ùå –ù–ï –†–ê–ë–û–¢–ê–ï–¢:
- Stripe API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–ø—Ä–æ–±–ª–µ–º–∞ —Å env vars)
- –û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏–∏

#### üîÑ –ì–û–¢–û–í–û –ö –î–ï–ü–õ–û–Æ:
- Demo API (–ø–æ–ª–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è)
- Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### üìã –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–æ**: –î–µ–º–æ-–≤–µ—Ä—Å–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
2. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–µ—Ä–µ–¥–∞—á—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. **–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ Stripe –∫–ª—é—á–∏

### üéâ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï:

–ü—Ä–æ–µ–∫—Ç **–£–°–ü–ï–®–ù–û –†–ê–ó–í–ï–†–ù–£–¢** –Ω–∞ Vercel —Å –ø–æ–ª–Ω–æ–π serverless –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π. 
–ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ. 
–ü—Ä–æ–±–ª–µ–º–∞ —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Stripe API.

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ!**
