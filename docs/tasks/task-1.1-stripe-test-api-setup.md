# –ó–∞–¥–∞—á–∞ 1.1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Stripe Test API –∫–ª—é—á–µ–π

## üìã –û–ø–∏—Å–∞–Ω–∏–µ
–ü–æ–ª—É—á–∏—Ç—å test API key (sk_test_...) –∏–∑ Stripe Dashboard –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è STRIPE_SECRET_KEY_TEST –≤ Vercel. –ó–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π live key –Ω–∞ test key –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## üéØ –¶–µ–ª–∏
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Ä–∏—Å–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É —Å Stripe Test API
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ Test API –∫–ª—é—á–µ–π
- –í–æ–π—Ç–∏ –≤ Stripe Dashboard (https://dashboard.stripe.com)
- –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –≤ Test mode (toggle –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É)
- –ü–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª "Developers" ‚Üí "API keys"
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å "Secret key" (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `sk_test_`)
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å "Publishable key" (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `pk_test_`)

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Vercel
```bash
# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ Vercel
STRIPE_SECRET_KEY=sk_test_... # –∑–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π live key
STRIPE_PUBLISHABLE_KEY=pk_test_...
NODE_ENV=development
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- `pages/api/deposits/index.js` - –æ–±–Ω–æ–≤–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é Stripe
- `pages/api/deposits/[id]/capture.js` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–π
- `pages/api/deposits/[id]/release.js` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–π
- `pages/api/webhook.js` - –æ–±–Ω–æ–≤–∏—Ç—å –¥–ª—è test mode

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```javascript
// –î–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–æ API —Ñ–∞–π–ª–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
if (!process.env.STRIPE_SECRET_KEY?.startsWith('sk_test_')) {
  console.warn('‚ö†Ô∏è Using live Stripe key in development!');
}
```

## üìù –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π
1. –û—Ç–∫—Ä—ã—Ç—å Stripe Dashboard
2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –≤ Test mode
3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å Secret key –∏ Publishable key
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–ª—é—á–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Vercel
1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ Vercel Dashboard
2. –ü–µ—Ä–µ–π—Ç–∏ –≤ Settings ‚Üí Environment Variables
3. –û–±–Ω–æ–≤–∏—Ç—å STRIPE_SECRET_KEY –Ω–∞ test –∫–ª—é—á
4. –î–æ–±–∞–≤–∏—Ç—å STRIPE_PUBLISHABLE_KEY
5. –î–æ–±–∞–≤–∏—Ç—å NODE_ENV=development

### –®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ API endpoints –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–π
2. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è test mode
3. –û–±–Ω–æ–≤–∏—Ç—å frontend –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è publishable key

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –î–µ–ø–ª–æ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API —Å test –∫–ª—é—á–∞–º–∏
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –¥–µ–ø–æ–∑–∏—Ç–æ–≤

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- [ ] Test API –∫–ª—é—á–∏ –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ Stripe Dashboard
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ Vercel
- [ ] –ö–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è test –∫–ª—é—á–µ–π
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è test mode
- [ ] API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç —Å test –∫–ª—é—á–∞–º–∏
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö Vercel

## üö® –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è
- **–ù–ï –ö–û–ú–ú–ò–¢–ò–¢–¨** –∫–ª—é—á–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ test –∫–ª—é—á–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ API calls –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–ª—é—á–∏
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ webhook endpoint –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è test mode

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- [Stripe Test Mode](https://stripe.com/docs/testing)
- [Stripe API Keys](https://stripe.com/docs/keys)
- [Vercel Environment Variables](https://vercel.com/docs/concepts/projects/environment-variables)

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏:
1. API –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
2. –õ–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ test –∫–ª—é—á–µ–π
3. Stripe Dashboard –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å test —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
4. –ù–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –æ live –∫–ª—é—á–∞—Ö –≤ development
